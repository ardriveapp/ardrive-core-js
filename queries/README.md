# GraphQL Query Permutations for ArDrive Core JS

This directory contains all the concrete GraphQL query permutations actually used in the ArDrive Core JS codebase, with real tag names and combinations.

## ArFS Protocol Tag Names

The queries use these standard ArFS protocol tags (defined in `src/utils/constants.ts:75-93`):
- `ArFS` - Protocol identifier
- `Entity-Type` - Type of entity (drive, folder, file, drive-signature)
- `Drive-Id` - Unique drive identifier
- `Folder-Id` - Unique folder identifier  
- `File-Id` - Unique file identifier
- `Parent-Folder-Id` - Parent folder reference
- `Drive-Privacy` - Privacy setting (public, private)
- `Cipher-IV` - Cipher initialization vector
- Plus others for content type, signatures, etc.

## Concrete Query Permutations

### Drive Queries
- `drive_by_id_query.graphql` - Find drive by Drive-Id + Entity-Type
- `public_drive_query.graphql` - Public drive with Drive-Privacy tag
- `private_drive_query.graphql` - Private drive with Drive-Privacy tag  
- `drive_signature_query.graphql` - Drive signature entity queries
- `all_drives_by_owner_query.graphql` - All drives owned by address
- `private_drives_password_validation_query.graphql` - Password validation query

### Folder Queries
- `folder_by_id_query.graphql` - Find folder by Folder-Id + Entity-Type
- `folders_in_drive_query.graphql` - All folders in a drive (paginated)

### File Queries  
- `file_by_id_query.graphql` - Find file by File-Id + Entity-Type
- `files_in_parent_folders_query.graphql` - Files in specific parent folders (array values)

### Mixed Entity Queries
- `entities_in_folder_query.graphql` - Both files and folders in a parent folder

### Lookup Queries
- `entity_to_drive_lookup_query.graphql` - Find drive for a file entity
- `entity_to_drive_lookup_folder_query.graphql` - Find drive for a folder entity

### Special Purpose Queries
- `cipher_iv_by_transaction_ids_query.graphql` - Empty tags with specific transaction IDs

### Generic Template Queries (for reference)
- `basic_query_no_variables.graphql` - Basic template with no filters
- `paginated_query_with_cursor.graphql` - Paginated template with cursor
- `query_with_owner_filter.graphql` - Template with owner filter
- `query_with_specific_ids.graphql` - Template with transaction IDs
- `query_with_single_tag.graphql` - Template with single tag
- `query_with_multiple_tags.graphql` - Template with multiple tags
- `query_with_array_tag_values.graphql` - Template with array values
- `query_ascending_sort.graphql` - Template with ascending sort
- `full_featured_query.graphql` - Template with all parameters

## Query Builder Source Locations

These concrete queries are generated by calls to `buildQuery()` in:

### ArFS DAO Anonymous (`src/arfs/arfsdao_anonymous.ts`)
- Line 94-100: Drive owner lookup
- Line 125: Entity-to-drive mapping
- Line 220: All drives by owner
- Line 258-266: Files in parent folders
- Line 312-319: Folders in drive

### ArFS DAO (`src/arfs/arfsdao.ts`)  
- Line 1478-1485: Drive signature info
- Line 1508-1515: Drive signature v1
- Line 1602-1609: Private drive folders
- Line 1657-1665: Private files in folders
- Line 1717-1725: Mixed entities in folder
- Line 1891-1898: Public drive check
- Line 1931-1937: Drive owner assertion
- Line 2031-2038: Password validation
- Line 2076-2081: Cipher IV lookup

### ArFS Builders (`src/arfs/arfs_builders/`)
- Various builder `getGqlQueryParameters()` methods
- Generic builder query execution

## Parameter Patterns

**Single Result Queries**: Use `first: 1`, no cursor, no pageInfo
**Paginated Queries**: Use `first: 100`, cursor, include pageInfo
**Ascending Sort**: Used for drive owner lookups and password validation
**Descending Sort**: Default for most queries (latest first)
**Owner Filtering**: Used when querying user-specific data
**Transaction ID Queries**: Used for cipher IV and specific data retrieval

## Variable vs Non-Variable Queries

**Non-Variable (Template)**: Generic examples with placeholder values
**Variable (Concrete)**: Real queries as used in the codebase with actual tag combinations

All queries are dynamically generated at runtime using the `buildQuery()` function with different parameter combinations.